{"ast":null,"code":"import _objectSpread from\"C:/Users/risha/OneDrive/Desktop/rrrr/AgriEasy/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";/**\r\n * ============================================\r\n * COMMODITY SEARCH PAGE\r\n * ============================================\r\n */import React,{useState}from'react';import{commodityService}from'../services/apiService';import{toast}from'react-toastify';import'./SearchPages.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CommoditySearchPage=()=>{const[commodities,setCommodities]=useState([]);const[loading,setLoading]=useState(false);const[filters,setFilters]=useState({commodityType:'',city:'',maxPrice:'',minPrice:''});const handleFilterChange=e=>{const{name,value}=e.target;setFilters(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));};const handleSearch=async e=>{e.preventDefault();try{setLoading(true);const response=await commodityService.search(filters);setCommodities(response.data.data.listings);}catch(error){toast.error('Search failed');}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"search-page\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"search-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\uD83C\\uDF3E Search Commodities\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Find the best commodities from farmers near you\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"search-container\",children:[/*#__PURE__*/_jsxs(\"form\",{className:\"search-form\",onSubmit:handleSearch,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Commodity Type\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"commodityType\",value:filters.commodityType,onChange:handleFilterChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Commodities\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Rice\",children:\"Rice\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Wheat\",children:\"Wheat\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Corn\",children:\"Corn\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Sugarcane\",children:\"Sugarcane\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"City\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"city\",value:filters.city,onChange:handleFilterChange,placeholder:\"Enter city\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Price Range\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"price-range\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"minPrice\",value:filters.minPrice,onChange:handleFilterChange,placeholder:\"Min\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"maxPrice\",value:filters.maxPrice,onChange:handleFilterChange,placeholder:\"Max\"})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",disabled:loading,children:loading?'Searching...':'Search'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"results\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Results (\",commodities.length,\")\"]}),commodities.map(commodity=>/*#__PURE__*/_jsxs(\"div\",{className:\"commodity-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:commodity.commodityType}),/*#__PURE__*/_jsx(\"p\",{children:commodity.varietySubtype}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u20B9\",commodity.pricePerUnit.amount,\"/\",commodity.pricePerUnit.unit]}),/*#__PURE__*/_jsxs(\"p\",{children:[commodity.availableQuantity.value,\" \",commodity.availableQuantity.unit,\" available\"]})]},commodity._id))]})]})]});};export default CommoditySearchPage;","map":{"version":3,"names":["React","useState","commodityService","toast","jsx","_jsx","jsxs","_jsxs","CommoditySearchPage","commodities","setCommodities","loading","setLoading","filters","setFilters","commodityType","city","maxPrice","minPrice","handleFilterChange","e","name","value","target","prev","_objectSpread","handleSearch","preventDefault","response","search","data","listings","error","className","children","onSubmit","onChange","type","placeholder","disabled","length","map","commodity","varietySubtype","pricePerUnit","amount","unit","availableQuantity","_id"],"sources":["C:/Users/risha/OneDrive/Desktop/rrrr/AgriEasy/frontend/src/pages/CommoditySearchPage.js"],"sourcesContent":["/**\r\n * ============================================\r\n * COMMODITY SEARCH PAGE\r\n * ============================================\r\n */\r\n\r\nimport React, { useState } from 'react';\r\nimport { commodityService } from '../services/apiService';\r\nimport { toast } from 'react-toastify';\r\nimport './SearchPages.css';\r\n\r\nconst CommoditySearchPage = () => {\r\n  const [commodities, setCommodities] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [filters, setFilters] = useState({\r\n    commodityType: '',\r\n    city: '',\r\n    maxPrice: '',\r\n    minPrice: ''\r\n  });\r\n\r\n  const handleFilterChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFilters(prev => ({\r\n      ...prev,\r\n      [name]: value\r\n    }));\r\n  };\r\n\r\n  const handleSearch = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      setLoading(true);\r\n      const response = await commodityService.search(filters);\r\n      setCommodities(response.data.data.listings);\r\n    } catch (error) {\r\n      toast.error('Search failed');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"search-page\">\r\n      <div className=\"search-header\">\r\n        <h1>ðŸŒ¾ Search Commodities</h1>\r\n        <p>Find the best commodities from farmers near you</p>\r\n      </div>\r\n\r\n      <div className=\"search-container\">\r\n        <form className=\"search-form\" onSubmit={handleSearch}>\r\n          <div className=\"form-group\">\r\n            <label>Commodity Type</label>\r\n            <select name=\"commodityType\" value={filters.commodityType} onChange={handleFilterChange}>\r\n              <option value=\"\">All Commodities</option>\r\n              <option value=\"Rice\">Rice</option>\r\n              <option value=\"Wheat\">Wheat</option>\r\n              <option value=\"Corn\">Corn</option>\r\n              <option value=\"Sugarcane\">Sugarcane</option>\r\n            </select>\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label>City</label>\r\n            <input type=\"text\" name=\"city\" value={filters.city} onChange={handleFilterChange} placeholder=\"Enter city\" />\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label>Price Range</label>\r\n            <div className=\"price-range\">\r\n              <input type=\"number\" name=\"minPrice\" value={filters.minPrice} onChange={handleFilterChange} placeholder=\"Min\" />\r\n              <input type=\"number\" name=\"maxPrice\" value={filters.maxPrice} onChange={handleFilterChange} placeholder=\"Max\" />\r\n            </div>\r\n          </div>\r\n\r\n          <button type=\"submit\" className=\"btn btn-primary\" disabled={loading}>\r\n            {loading ? 'Searching...' : 'Search'}\r\n          </button>\r\n        </form>\r\n\r\n        <div className=\"results\">\r\n          <h2>Results ({commodities.length})</h2>\r\n          {commodities.map(commodity => (\r\n            <div key={commodity._id} className=\"commodity-card\">\r\n              <h3>{commodity.commodityType}</h3>\r\n              <p>{commodity.varietySubtype}</p>\r\n              <p>â‚¹{commodity.pricePerUnit.amount}/{commodity.pricePerUnit.unit}</p>\r\n              <p>{commodity.availableQuantity.value} {commodity.availableQuantity.unit} available</p>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CommoditySearchPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}